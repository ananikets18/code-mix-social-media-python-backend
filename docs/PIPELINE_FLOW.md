# ğŸ”„ Multilingual NLP Analysis System - Complete Pipeline Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           USER INPUT TEXT                                    â”‚
â”‚              "Yaar ye product bahut mast hai! Must watch bro"                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      STAGE 1: INPUT VALIDATION                               â”‚
â”‚                         (validators.py)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ“ Check text length (1-5000 chars)                                         â”‚
â”‚  âœ“ Validate parameters                                                      â”‚
â”‚  âœ“ Sanitize input                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STAGE 2: TEXT PREPROCESSING                               â”‚
â”‚                   (preprocessing.py, text_normalizer.py)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Remove URLs: http://example.com â†’ [removed]                             â”‚
â”‚  2. Remove Mentions: @user â†’ [removed]                                      â”‚
â”‚  3. Extract Hashtags: #trending â†’ trending                                  â”‚
â”‚  4. Handle Emojis: ğŸ˜Š â†’ [preserve/remove/replace]                           â”‚
â”‚  5. Normalize Whitespace: "a    b" â†’ "a b"                                  â”‚
â”‚  6. Punctuation Control: preserve/minimal/aggressive                        â”‚
â”‚                                                                              â”‚
â”‚  Output: "Yaar ye product bahut mast hai Must watch bro"                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              STAGE 3: MULTI-STAGE LANGUAGE DETECTION                         â”‚
â”‚                     (preprocessing/ modules)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                               â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  3A: CACHE CHECK      â”‚       â”‚  3B: PROFANITY CHECK  â”‚
        â”‚ (adaptive_learning)   â”‚       â”‚  (profanity_filter)   â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ Check pattern_cache   â”‚       â”‚ Check 10 languages    â”‚
        â”‚ for similar text      â”‚       â”‚ Severity: extreme/    â”‚
        â”‚                       â”‚       â”‚ moderate/mild         â”‚
        â”‚ Cache hit? âœ“          â”‚       â”‚                       â”‚
        â”‚   Return cached lang  â”‚       â”‚ Output: No profanity  â”‚
        â”‚ Cache miss? âœ—         â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚   Continue pipeline   â”‚                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
                    â”‚                               â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  3C: SCRIPT DETECTION         â”‚
                    â”‚  (script_detection.py)        â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ Analyze Unicode ranges:       â”‚
                    â”‚                               â”‚
                    â”‚ â€¢ Devanagari (0900-097F)      â”‚
                    â”‚   â†’ Hindi/Marathi/Sanskrit    â”‚
                    â”‚ â€¢ Tamil (0B80-0BFF)           â”‚
                    â”‚   â†’ Tamil                     â”‚
                    â”‚ â€¢ Bengali (0980-09FF)         â”‚
                    â”‚   â†’ Bengali                   â”‚
                    â”‚ â€¢ Latin (0000-007F)           â”‚
                    â”‚   â†’ Continue to next stage    â”‚
                    â”‚                               â”‚
                    â”‚ Result: Latin script detected â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  3D: ROMANIZED DETECTION      â”‚
                    â”‚  (romanized_detection.py)     â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ Check romanized dictionaries: â”‚
                    â”‚                               â”‚
                    â”‚ "bahut" â†’ Hindi word âœ“        â”‚
                    â”‚ "mast" â†’ Hindi word âœ“         â”‚
                    â”‚ "yaar" â†’ Hindi word âœ“         â”‚
                    â”‚                               â”‚
                    â”‚ Match count: 3/7 tokens       â”‚
                    â”‚ Threshold: 30%                â”‚
                    â”‚ Is Romanized: YES             â”‚
                    â”‚                               â”‚
                    â”‚ Result: Romanized Hindi       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  3E: GLOTLID DETECTION        â”‚
                    â”‚  (glotlid_wrapper.py)         â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ Model: cis-lmu GlotLID        â”‚
                    â”‚                               â”‚
                    â”‚ Languages: 2000+               â”‚
                    â”‚                               â”‚
                    â”‚ Analysis: FastText classify   â”‚
                    â”‚                               â”‚
                    â”‚ Top predictions:              â”‚
                    â”‚ 1. eng: 0.45                  â”‚
                    â”‚ 2. hin: 0.35                  â”‚
                    â”‚ 3. ido: 0.12                  â”‚
                    â”‚                               â”‚
                    â”‚ Result: English (low conf)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  3F: CODE-MIXING DETECTION    â”‚
                    â”‚  (code_mixing_detection.py)   â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ Token Analysis:               â”‚
                    â”‚                               â”‚
                    â”‚ Hindi: "Yaar", "bahut",       â”‚
                    â”‚        "mast", "hai"          â”‚
                    â”‚ English: "ye", "product",     â”‚
                    â”‚          "Must", "watch",     â”‚
                    â”‚          "bro"                â”‚
                    â”‚                               â”‚
                    â”‚ Hindi tokens: 4               â”‚
                    â”‚ English tokens: 5             â”‚
                    â”‚ Mix ratio: 44% Hindi          â”‚
                    â”‚                               â”‚
                    â”‚ Adaptive threshold: 25%       â”‚
                    â”‚ (based on text length)        â”‚
                    â”‚                               â”‚
                    â”‚ Result: CODE-MIXED âœ“          â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  3G: ENSEMBLE FUSION          â”‚
                    â”‚  (language_detection.py)      â”‚
                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚ Combine all detection results:â”‚
                    â”‚                               â”‚
                    â”‚ Script: Latin (weight: 0.2)   â”‚
                    â”‚ Romanized: Hindi (weight: 0.3)â”‚
                    â”‚ GlotLID: English (weight: 0.2)â”‚
                    â”‚ Code-mix: Yes (weight: 0.3)   â”‚
                    â”‚                               â”‚
                    â”‚ Weighted scoring:             â”‚
                    â”‚ Confidence: 0.78              â”‚
                    â”‚                               â”‚
                    â”‚ FINAL RESULT:                 â”‚
                    â”‚ "hin_romanized_eng_mixed"     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     STAGE 4: DOMAIN DETECTION                                â”‚
â”‚                      (domain_processors.py)                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Financial Domain:    NO  (no $, â‚¹, stocks, etc.)                           â”‚
â”‚  Temporal Domain:     NO  (no dates, times)                                 â”‚
â”‚  Technical Domain:    NO  (no code, functions)                              â”‚
â”‚  Medical Domain:      NO  (no medical terms)                                â”‚
â”‚                                                                              â”‚
â”‚  Entities Extracted:  None                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STAGE 5: PARALLEL ML INFERENCE                            â”‚
â”‚                  (All models run simultaneously)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                           â”‚                           â”‚
        â–¼                           â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5A: SENTIMENT    â”‚    â”‚ 5B: TOXICITY     â”‚      â”‚ 5C: TRANSLATION  â”‚
â”‚    ANALYSIS      â”‚    â”‚    DETECTION     â”‚      â”‚                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Model Selection: â”‚    â”‚ Model:           â”‚      â”‚ Process:         â”‚
â”‚                  â”‚    â”‚ XLM-RoBERTa      â”‚      â”‚                  â”‚
â”‚ Language: hin    â”‚    â”‚ Toxicity         â”‚      â”‚ 1. Detect if     â”‚
â”‚ â†’ IndicBERT v2   â”‚    â”‚                  â”‚      â”‚    romanized     â”‚
â”‚                  â”‚    â”‚ Size: 1.07 GB    â”‚      â”‚                  â”‚
â”‚ Model:           â”‚    â”‚                  â”‚      â”‚ 2. Convert to    â”‚
â”‚ ai4bharat/       â”‚    â”‚ Input:           â”‚      â”‚    native script â”‚
â”‚ IndicBERTv2      â”‚    â”‚ "Yaar ye..."     â”‚      â”‚                  â”‚
â”‚                  â”‚    â”‚                  â”‚      â”‚ "Yaar ye..."     â”‚
â”‚ Size: 922 MB     â”‚    â”‚ Tokenize:        â”‚      â”‚     â†“            â”‚
â”‚                  â”‚    â”‚ XLM-R tokenizer  â”‚      â”‚ "à¤¯à¤¾à¤° à¤¯à¥‡ à¤ªà¥à¤°à¥‹à¤¡à¤•à¥à¤Ÿâ”‚
â”‚ Input:           â”‚    â”‚                  â”‚      â”‚  à¤¬à¤¹à¥à¤¤ à¤®à¤¸à¥à¤¤ à¤¹à¥ˆ"   â”‚
â”‚ "Yaar ye..."     â”‚    â”‚ Inference:       â”‚      â”‚     â†“            â”‚
â”‚                  â”‚    â”‚ Multi-label      â”‚      â”‚ 3. Google        â”‚
â”‚ Tokenize:        â”‚    â”‚ classification   â”‚      â”‚    Translate API â”‚
â”‚ IndicBERT tokens â”‚    â”‚                  â”‚      â”‚                  â”‚
â”‚                  â”‚    â”‚ OUTPUT:          â”‚      â”‚ Source: hi       â”‚
â”‚ Inference:       â”‚    â”‚ toxic: 0.0004    â”‚      â”‚ Target: en       â”‚
â”‚ [CLS] + tokens   â”‚    â”‚ severe: 0.0001   â”‚      â”‚                  â”‚
â”‚                  â”‚    â”‚ obscene: 0.0002  â”‚      â”‚ OUTPUT:          â”‚
â”‚ Softmax:         â”‚    â”‚ threat: 0.0001   â”‚      â”‚ "Dude this       â”‚
â”‚ Negative: 0.12   â”‚    â”‚ insult: 0.0003   â”‚      â”‚  product is      â”‚
â”‚ Neutral: 0.41    â”‚    â”‚ hate: 0.0001     â”‚      â”‚  really great"   â”‚
â”‚ Positive: 0.47   â”‚    â”‚                  â”‚      â”‚                  â”‚
â”‚                  â”‚    â”‚ Max: toxic       â”‚      â”‚ Success: true    â”‚
â”‚ OUTPUT:          â”‚    â”‚ Score: 0.0004    â”‚      â”‚                  â”‚
â”‚ Label: Positive  â”‚    â”‚ (Very Low)       â”‚      â”‚                  â”‚
â”‚ Confidence: 0.47 â”‚    â”‚                  â”‚      â”‚                  â”‚
â”‚ Model: IndicBERT â”‚    â”‚                  â”‚      â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                           â”‚                           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STAGE 6: RESPONSE FORMATTING                              â”‚
â”‚                         (main.py, api.py)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Compact Mode (200 bytes):                                                  â”‚
â”‚  {                                                                           â”‚
â”‚    "language": {"code": "hin_romanized_eng_mixed", "confidence": 0.78},     â”‚
â”‚    "sentiment": {"label": "positive", "score": 0.47},                       â”‚
â”‚    "profanity": {"detected": false},                                        â”‚
â”‚    "translation": "Dude this product is really great",                      â”‚
â”‚    "toxicity_score": 0.0004                                                 â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  OR Verbose Mode (2000 bytes): Full details with all fields                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STAGE 7: CACHING & LEARNING                               â”‚
â”‚                  (request_cache.py, adaptive_learning.py)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Store in Request Cache (analyze_cache.json)                             â”‚
â”‚     â€¢ Text hash: abc123def456                                               â”‚
â”‚     â€¢ Response: Full analysis result                                        â”‚
â”‚     â€¢ Timestamp: 2025-11-03T10:30:00                                        â”‚
â”‚     â€¢ Duplicate detection: Check if exists, replace                         â”‚
â”‚                                                                              â”‚
â”‚  2. Update Pattern Cache (adaptive_learning/pattern_cache.json)             â”‚
â”‚     â€¢ Pattern: "yaar.*bahut.*mast"                                          â”‚
â”‚     â€¢ Language: hin_romanized_eng_mixed                                     â”‚
â”‚     â€¢ Confidence: 0.78                                                      â”‚
â”‚     â€¢ Success count: +1                                                     â”‚
â”‚                                                                              â”‚
â”‚  3. Log Statistics (adaptive_learning/statistics.json)                      â”‚
â”‚     â€¢ Total requests: +1                                                    â”‚
â”‚     â€¢ Cache hits: (if applicable)                                           â”‚
â”‚     â€¢ Average confidence: recalculate                                       â”‚
â”‚                                                                              â”‚
â”‚  4. Check for Failures                                                      â”‚
â”‚     â€¢ Low confidence? â†’ Log to failure_log.json                             â”‚
â”‚     â€¢ Unknown language? â†’ Log for analysis                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FINAL JSON RESPONSE                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  {                                                                           â”‚
â”‚    "original_text": "Yaar ye product bahut mast hai! Must watch bro",      â”‚
â”‚    "cleaned_text": "Yaar ye product bahut mast hai Must watch bro",        â”‚
â”‚    "language": {                                                            â”‚
â”‚      "language": "hin_romanized_eng_mixed",                                 â”‚
â”‚      "confidence": 0.78,                                                    â”‚
â”‚      "method": "ensemble_fusion",                                           â”‚
â”‚      "language_info": {                                                     â”‚
â”‚        "language_name": "Hindi (Romanized, Code-Mixed with English)",       â”‚
â”‚        "is_romanized": true,                                                â”‚
â”‚        "is_code_mixed": true,                                               â”‚
â”‚        "script": "Latin",                                                   â”‚
â”‚        "base_language": "Hindi"                                             â”‚
â”‚      }                                                                      â”‚
â”‚    },                                                                       â”‚
â”‚    "sentiment": {                                                           â”‚
â”‚      "label": "positive",                                                   â”‚
â”‚      "confidence": 0.47,                                                    â”‚
â”‚      "model_used": "IndicBERT v2"                                           â”‚
â”‚    },                                                                       â”‚
â”‚    "toxicity": {                                                            â”‚
â”‚      "toxic": 0.0004, "severe_toxic": 0.0001, "obscene": 0.0002,           â”‚
â”‚      "threat": 0.0001, "insult": 0.0003, "identity_hate": 0.0001           â”‚
â”‚    },                                                                       â”‚
â”‚    "profanity": {                                                           â”‚
â”‚      "has_profanity": false,                                                â”‚
â”‚      "severity_score": 0.0,                                                 â”‚
â”‚      "detected_words": []                                                   â”‚
â”‚    },                                                                       â”‚
â”‚    "domains": {                                                             â”‚
â”‚      "financial": false, "temporal": false, "technical": false              â”‚
â”‚    },                                                                       â”‚
â”‚    "translations": {                                                        â”‚
â”‚      "english": "Dude this product is really great! Must watch bro",       â”‚
â”‚      "conversion_applied": true,                                            â”‚
â”‚      "converted_to_devanagari": "à¤¯à¤¾à¤° à¤¯à¥‡ à¤ªà¥à¤°à¥‹à¤¡à¤•à¥à¤Ÿ à¤¬à¤¹à¥à¤¤ à¤®à¤¸à¥à¤¤ à¤¹à¥ˆ Must watch bro"â”‚
â”‚    },                                                                       â”‚
â”‚    "cache_info": {                                                          â”‚
â”‚      "cached": true,                                                        â”‚
â”‚      "is_duplicate": false,                                                 â”‚
â”‚      "text_hash": "abc123def456"                                            â”‚
â”‚    }                                                                        â”‚
â”‚  }                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  RETURN TO CLIENT     â”‚
                        â”‚  (API Response)       â”‚
                        â”‚  Status: 200 OK       â”‚
                        â”‚  Time: ~500ms         â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              PIPELINE SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Total Stages: 7
Total Processing Time: ~400-600ms (cached) | ~3-5s (first load)

Models Used:
  1. GlotLID FastText (1.6 GB) - Language Detection
  2. IndicBERT v2 (922 MB) - Indian Language Sentiment
  3. XLM-RoBERTa Sentiment (2.1 GB) - Multilingual Sentiment
  4. XLM-RoBERTa Toxicity (1.07 GB) - Toxicity Detection

Key Features:
  âœ“ Multi-stage language detection with ensemble fusion
  âœ“ Romanized text handling with native script conversion
  âœ“ Code-mixed language support (Hinglish, etc.)
  âœ“ Parallel ML inference for speed
  âœ“ Adaptive learning from user feedback
  âœ“ Request caching for duplicate detection
  âœ“ Compact & verbose response modes

Supported Languages: 60+ (International + Indian + Code-Mixed)
API Endpoints: 10 REST endpoints
Deployment: Docker, Fly.io, Gunicorn + Nginx ready

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```
